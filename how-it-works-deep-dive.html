<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Process Deep Dive - TestMySearch</title>
    <meta name="description" content="A detailed look at the architecture and data flow of the TestMySearch platform, from query processing to analysis and reporting.">
    <link rel="canonical" href="https://www.testmysearch.com/how-it-works-deep-dive.html">
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }

        .diagram-scroller {
            overflow-x: auto;
            display: flex;
            justify-content: flex-start; /* Start alignment for scrolling */
        }

        /* On larger screens, we center the content if it's not wider than the container */
        @media (min-width: 2400px) { /* Width slightly larger than the image */
            .diagram-scroller {
                justify-content: center;
            }
        }

        .diagram-content {
            transition: transform 0.2s ease-in-out;
            transform-origin: center;
        }
        .diagram-content img {
            max-width: none;
        }
        .zoom-controls button {
            width: 40px;
            height: 40px;
            background-color: rgba(17, 24, 39, 0.75);
            color: white;
            border: 1px solid rgba(75, 85, 99, 0.75);
            border-radius: 9999px;
            font-size: 1.25rem;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }
        .zoom-controls button:hover {
            background-color: rgba(31, 41, 55, 0.9);
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

<header class="sticky top-0 z-50 shadow-sm" style="background-color: #faf8f5;">
    <nav class="container mx-auto flex items-center justify-between px-6 py-4">
        <a href="/"><img src="/img/testmysearch-logo.png" alt="TestMySearch Logo" style="width:219px;height:60px"></a>
        <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6">
            <a href="demos.html" class="text-gray-600 hover:text-indigo-600">Demos</a>
            <a href="index.html#features" class="text-gray-600 hover:text-indigo-600">Features</a>
            <a href="index.html#how-it-works" class="text-gray-600 hover:text-indigo-600">How It Works</a> <a href="/blog/" class="text-gray-600 hover:text-indigo-600">Blog</a>
            <a href="index.html#contact" class="rounded-md bg-indigo-600 px-4 py-2 text-white transition hover:bg-indigo-700">Contact Us</a>
        </div>
    </nav>
</header>

<main class="py-16">

    <div class="container mx-auto max-w-5xl px-6">
        <div class="text-center">
            <h1 class="text-4xl font-extrabold text-gray-900 md:text-5xl">Under the Hood: Architecture</h1>
            <p class="mt-4 text-lg text-gray-600">For those who love the technical details, here are the complete flowcharts of our platform.</p>
        </div>

        <div class="mt-12 rounded-lg bg-white p-8 shadow-lg">
            <h2 class="text-2xl font-bold text-gray-900">High-Level Process Flow</h2>
            <p class="mt-4 text-gray-700">This diagram illustrates the journey from initial inputs to final, actionable outputs. It showcases how test queries and known results are processed through various search configurations, aggregated, and then transformed into comprehensive reports, visualizations, and AI-powered assessments.</p>
            <div class="mt-8">
                <img src="img/testmysearch.png" alt="A detailed flowchart of the TestMySearch platform architecture." class="rounded-lg border border-gray-200 shadow-md">
            </div>
        </div>
    </div>

    <div class="mt-20 w-full bg-white py-12 shadow-lg">
        <div class="container mx-auto max-w-5xl px-6">
            <h2 class="text-2xl font-bold text-gray-900">Detailed System Architecture</h2>
            <p class="mt-4 text-gray-700">This diagram provides a granular view of the services, data stores, and message queues that power the TestMySearch platform. Use the controls to zoom in and scroll horizontally to explore the details.</p>
        </div>

        <div class="mt-8 relative border-t border-b border-gray-200 bg-gray-800">
            <div class="zoom-controls absolute top-4 right-4 z-10 space-x-2">
                <button id="zoom-in-btn" title="Zoom In">+</button>
                <button id="zoom-out-btn" title="Zoom Out">-</button>
                <button id="zoom-reset-btn" title="Reset Zoom"><i class="fas fa-sync-alt"></i></button>
            </div>
            <div id="diagram-scroller" class="diagram-scroller">
                <div id="diagram-content" class="diagram-content">
                    <img src="img/testmysearch2.png" alt="A highly detailed system architecture diagram for the TestMySearch platform." style="width: 2377px; height: 629px;">
                </div>
            </div>
        </div>
    </div>

    <div class="container mx-auto max-w-5xl px-6">
        <div class="mt-12 rounded-lg bg-white p-8 shadow-lg">
            <h2 class="text-2xl font-bold text-gray-900">Architectural Breakdown</h2>
            <p class="mt-4 text-gray-700">
                The platform is organized around two scopes — <b>Account</b> and <b>Sandbox</b> — with a processing pipeline that turns queries and known results into scored runs, derived insights, and reports. At the Account scope we provision shared registries (search connectors and LLM configurations); at the Sandbox scope we keep all experiment data isolated behind namespaced indices. The diagram shows how those scopes link to orchestration, workers, and reporting.
            </p>
            <p class="mt-4 text-gray-700">
                <b>Account Service</b> establishes cross-sandbox foundations. When an account is created, the service initializes account-level storage and account-level configuration (LLM and search connectors). LLM connectors define what LLM to use and how, and search connectors define the interfaces to search engines as well as define the way how to convert a query to a call to a search engine. These capabilities make search engine options and LLM settings centrally discoverable to all sandboxes under the account.
            </p>
            <p class="mt-4 text-gray-700">
                <b>Sandbox Service</b> provides isolation and namespacing. Every sandbox stores its artifacts in its own set of entities (e.g., pages, chunks, vectors, evaluations) so you can run aggressive experiments without polluting other environments. Operational code that wipes or rebuilds a sandbox touches only its entities, reinforcing that boundary.
            </p>
            <p class="mt-4 text-gray-700">
                The <b>Search Connector Registry and LLM Catalog</b> live at the Account scope but are consumed inside sandboxes. During run creation, users choose a search engine plus configuration from the Account, and downstream assessment steps read the chosen LLM configuration. This keeps selection consistent and auditable while still letting teams iterate rapidly in their own sandboxes.
            </p>
            <p class="mt-4 text-gray-700">
                <b>Query Sets</b> are the canonical inputs for test execution. We persist a dataset-level document and bulk store the individual queries as items. When needed, Query Sets can be created programmatically from CSV or by exporting from other parts of the system.
            </p>
            <p class="mt-4 text-gray-700">
                <b>Expected Results</b> hold the ground-truth mappings for evaluation. You can apply them to <i>Batch Runs</i> to compute metrics, or feed them into intent extraction when they’re placed in the <i>Basket</i>. These sets are sandbox-local, which ensures metrics and derived artifacts reflect exactly the data that was intended for a given experiment.
            </p>
            <p class="mt-4 text-gray-700">
                The <b>Batch Run Orchestrator</b> plans and tracks executions across chosen <i>Query Sets</i> and connector configurations. A run progresses through well-defined phases—download → chunk → vectorize → evaluate → update_run—and produces per-result evaluation scores that can be visualized or used later in <i>Reports</i>. Run creation also offers options such as auto-start and auto-applying Expected Results on completion.
            </p>
            <p class="mt-4 text-gray-700">
                <b>Processors</b> are pluggable pre- and post-processing hooks for queries and results. They are defined per sandbox and can be applied during <i>Batch Runs</i>, which makes it straightforward to test normalization, query rewriting, or custom ranking tweaks without forking the core pipeline.
            </p>
            <p class="mt-4 text-gray-700">
                The <b>Basket</b> is the cross-cutting staging area that turns selections into work. Teams can collect items from <i>Expected Results</i>, entire runs, or individual run results and then trigger <i>Assessment Runs</i>, <i>Intent Extraction</i>, or <i>Query Generation</i>. Each operation spawns an Assessment Task group with child items and status tracking, and the outputs (generated queries, intents, or scores) are written back to their respective sections.
            </p>
            <p class="mt-4 text-gray-700">
                The <b>Assessment Task Orchestrator</b> materializes a parent “group” task and many “doc” tasks, each with explicit phase statuses that mirror the worker pipeline. This structure allows independent progress across items, resilient retries, and aggregation of child states back to the group for monitoring and control.
            </p>
            <p class="mt-4 text-gray-700">
                The <b>Worker Pipeline</b> executes the heavy lifting asynchronously. Workers consume tasks, perform downloading, chunking, vectorization, and evaluation, then update the associated run with scores. Because the phases are explicit, the system can surface partial progress, rerun failed steps, and maintain a reliable audit of how each result was produced.
            </p>
            <p class="mt-4 text-gray-700">
                <b>Generated Queries</b> are another output surface of the pipeline. From assessments or query-generation workflows, you can export the selected generated queries either to a new <i>Expected Results</i> set (turning them into judged targets) or into a new <i>Query Set</i> (reusing them as inputs for future runs). Both export flows are implemented as in-memory CSV builds followed by bulk index writes.
            </p>
            <p class="mt-4 text-gray-700">
                Finally, <b>Reporting</b> reads from <i>Batch Runs</i> and assessments to generate comparative and clustering outputs. The catalog includes summary tables, query-by-configuration views, specialized clustering, and a broad set of ranking metrics—NDCG@5/10, Precision@5/10, Reciprocal Rank, Recall—as well as domain overlap, correlation, intersection, and even LLM-judgment reports when summaries are in play.
            </p>
            <p class="mt-4 text-gray-700">
                Together, these components form a reproducible, auditable feedback loop: accounts publish shared capabilities; sandboxes isolate experiments; orchestrated runs and assessment tasks produce metrics and derived assets; and reporting closes the loop with rigorous analytics. The result is a system where search quality work can scale from quick tests to large, multi-run studies without sacrificing clarity or control.
            </p>
        </div>

        <div class="mt-12 text-center">
            <a href="index.html#how-it-works" class="transform rounded-lg bg-indigo-600 px-8 py-4 text-lg font-semibold text-white shadow-md transition hover:scale-105 hover:bg-indigo-700">
                <i class="fas fa-arrow-left mr-2"></i> Back to How It Works
            </a>
        </div>
    </div>
</main>
<section class="bg-gray-100 py-20">
    <div class="container mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-gray-900">Community & Learning</h2>
        <p class="mx-auto mt-4 max-w-3xl text-gray-600">
            Continue your journey in search relevance with these hand-picked resources from the community.
        </p>
        <div class="mt-8 grid gap-8 md:grid-cols-2">
            <a href="search-web-resources.html" class="block rounded-lg bg-white p-8 shadow-md transition hover:shadow-xl hover:-translate-y-1">
                <div class="mb-4 text-4xl text-indigo-600"><i class="fas fa-book-reader"></i></div>
                <h3 class="mb-2 text-xl font-bold">Technical Blogs & Resources</h3>
                <p class="text-gray-600">Explore our curated list of essential blogs and thought leaders in the search and IR space.</p>
            </a>
            <a href="conferences.html" class="block rounded-lg bg-white p-8 shadow-md transition hover:shadow-xl hover:-translate-y-1">
                <div class="mb-4 text-4xl text-indigo-600"><i class="fas fa-calendar-alt"></i></div>
                <h3 class="mb-2 text-xl font-bold">Industry Conferences</h3>
                <p class="text-gray-600">Stay up-to-date with the most important annual events for the global search community.</p>
            </a>
        </div>
    </div>
</section>
<footer class="bg-gray-800 text-gray-400">
    <div class="container mx-auto px-6 py-8 text-center">
        <p>&copy; 2025 TestMySearch. All Rights Reserved.</p>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const zoomInBtn = document.getElementById('zoom-in-btn');
        const zoomOutBtn = document.getElementById('zoom-out-btn');
        const zoomResetBtn = document.getElementById('zoom-reset-btn');
        const diagramContent = document.getElementById('diagram-content');

        let currentScale = 1.0;
        const minScale = 0.5;
        const maxScale = 3.0;
        const scaleStep = 0.2;

        function applyZoom() {
            currentScale = Math.max(minScale, Math.min(maxScale, currentScale));
            diagramContent.style.transform = `scale(${currentScale})`;
        }

        zoomInBtn.addEventListener('click', () => {
            currentScale += scaleStep;
            applyZoom();
        });

        zoomOutBtn.addEventListener('click', () => {
            currentScale -= scaleStep;
            applyZoom();
        });

        zoomResetBtn.addEventListener('click', () => {
            currentScale = 1.0;
            applyZoom();
        });
    });
</script>

</body>
</html>